[{"title":"My first Post","url":"/2022/05/28/My-first-Post/","content":"<p>And here we start a new journey.</p>\n<p>pic bed test: </p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220522223044162.png\" alt=\"image-20220522223044162\"></p>\n","tags":["Hexo"]},{"title":"代理技术","url":"/2022/05/28/%E4%BB%A3%E7%90%86%E6%8A%80%E6%9C%AF/","content":"<h1 id=\"代理技术\"><a href=\"#代理技术\" class=\"headerlink\" title=\"代理技术\"></a>代理技术</h1><h2 id=\"代理协议工作在哪一层\"><a href=\"#代理协议工作在哪一层\" class=\"headerlink\" title=\"代理协议工作在哪一层\"></a>代理协议工作在哪一层</h2><p>Socks代理协议是一种工作在<em><strong>线路层</strong></em>的协议，HTTP代理协议是一种工作在<em><strong>应用层</strong></em>的协议。</p>\n<h2 id=\"基于虚拟设备TUN-x2F-TAP技术的“真”全局代理\"><a href=\"#基于虚拟设备TUN-x2F-TAP技术的“真”全局代理\" class=\"headerlink\" title=\"基于虚拟设备TUN&#x2F;TAP技术的“真”全局代理\"></a>基于虚拟设备TUN&#x2F;TAP技术的“真”全局代理</h2><p> SOCKS5工作在线路层，<strong>SOCKS</strong>协议位于传输层(<strong>TCP</strong>&#x2F;<strong>UDP</strong>等)与应用层之间，所以能代理TCP和UDP的网络流量，<strong>对于之下的网络流量，就无能为力了</strong>。</p>\n<p>TUN2SOCKS使用tun网卡实现了更加底层的流量代理，这种全局代理不仅可以代理传输层流量，还可以代理其它所有应用程序的请求流量，比如代理游戏的流量，代理所有命令行工具的流量。</p>\n<p>一般的代理软件的“全局代理”指的是不论访问的IP是哪的全部都走代理，但是这种代理软件使用的代理协议的工作层次是<strong>不够底层</strong>的，在cmd会发现<strong>无法ping通google</strong>（但是<strong>使用curl却能够获得google的html内容</strong>，这是因为ping走的是ICMP而curl走的是HTTP）。</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220525102729845.png\" alt=\"image-20220525102729845\"></p>\n<p>而像Netch等比较专业的代理软件则使用了tun2socks等虚拟网卡技术，在使用这种软件的全局代理时是可以在cmd中使用ping通google的。</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220525103044641.png\" alt=\"image-20220525103044641\"></p>\n<p>因此，像要使用pip、apt-get等需要在shell中访问外网的场景时，强烈推荐Netch等使用基于虚拟网卡的能够代理低层数据包的软件。</p>\n<h2 id=\"如何使得虚拟机的流量也走代理\"><a href=\"#如何使得虚拟机的流量也走代理\" class=\"headerlink\" title=\"如何使得虚拟机的流量也走代理\"></a>如何使得虚拟机的流量也走代理</h2><p><strong>场景：</strong></p>\n<ol>\n<li>VMware Ubuntu虚拟机要使用apt等安装软件<em><strong>（显然我们不想搞什么换源）</strong></em></li>\n<li>开发板（例如PYNQ）上跑的Ubuntu要使用apt等安装软件<em><strong>（显然我们不想搞什么换源）</strong></em>，且开发板是通过网线与PC连接的。</li>\n</ol>\n<p><strong>方法1：</strong></p>\n<p>首先在宿主机上打开代理，并且确定<em><strong>允许其他设备连入Socks5本地端口</strong></em></p>\n<p>之后在虚拟机终端中输入以下命令：</p>\n<p><code>export  ALL_PROXY=socks5://192.168.86.1:2801</code></p>\n<p>注意更改IP和端口。</p>\n<p><strong>方法2：</strong></p>\n<p>首先需要在宿主上运行起clash，并将clash进行如下设置。</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724115525450.png\" alt=\"image-20220724115525450\"></p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724122944605.png\" alt=\"image-20220724122944605\"></p>\n<p>VMware中将虚拟的网络适配器设置为NAT，取消虚拟机Ubuntu的手动DNS，设置为自动。</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724120024200.png\" alt=\"image-20220724120024200\"></p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724115856787.png\" alt=\"image-20220724115856787\"></p>\n<p>设置完毕，效果如下。</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724120101155.png\" alt=\"image-20220724120101155\"></p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724123536306.png\" alt=\"image-20220724123536306\"></p>\n<p>需要注意的是，这种方法设置下虽然宿主机和虚拟机均能ping通google，但是所显示的google的IP都是错误的（是一个保留IP地址），这应该与Clash TUN网卡的工作机制有关系。</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724123639930.png\" alt=\"image-20220724123639930\"></p>\n<p><strong>方法3：</strong></p>\n<p>在虚拟机里直接跑clash</p>\n<h2 id=\"待研究的内容\"><a href=\"#待研究的内容\" class=\"headerlink\" title=\"待研究的内容\"></a>待研究的内容</h2><p>KCP</p>\n<p>DNS Hijack（AioDNS）</p>\n<h2 id=\"合适的软件\"><a href=\"#合适的软件\" class=\"headerlink\" title=\"合适的软件\"></a>合适的软件</h2><p>Clash真香😄</p>\n","tags":["VPN"]},{"title":"Python装饰器实现对（递归）函数运行时间计时","url":"/2022/06/04/python-decorator/","content":"<h1 id=\"Python-装饰器\"><a href=\"#Python-装饰器\" class=\"headerlink\" title=\"Python 装饰器\"></a>Python 装饰器</h1><p>场景需求：需要对函数运行时间进行计时，希望能够自动化完成计时代码的插桩工作。</p>\n<p>难点：递归函数，举例来说，假设我调用fibonacci(4)，我不希望计时只计最外层的函数，而是希望每一个被调用的fibonacci()都输出，fib的调用层次如下图所示</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220604190247526.png\" alt=\"image-20220604190247526\"></p>\n<p>也就是计时器应该输出5次函数运行耗时</p>\n<p>解决方案：<a href=\"https://zhuanlan.zhihu.com/p/197643740\">https://zhuanlan.zhihu.com/p/197643740</a> ，运行结果：</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220604190426304.png\" alt=\"image-20220604190426304\"></p>\n<p>感想（？）：Python好强大</p>\n<h1 id=\"Google-Colab\"><a href=\"#Google-Colab\" class=\"headerlink\" title=\"Google Colab\"></a>Google Colab</h1><p>测试代码：</p>\n<p><a href=\"https://colab.research.google.com/drive/1GML_i9JVwJKSGYCPL8_Mi2CXixXix6DF?usp=sharing\">https://colab.research.google.com/drive/1GML_i9JVwJKSGYCPL8_Mi2CXixXix6DF?usp=sharing</a></p>\n","tags":["Python"]},{"title":"大学","url":"/2022/07/24/%E5%A4%A7%E5%AD%A6/","content":"<h1 id=\"往事如风\"><a href=\"#往事如风\" class=\"headerlink\" title=\"往事如风\"></a>往事如风</h1><p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724145451484.png\" alt=\"image-20220724145451484\"></p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724145529969.png\" alt=\"image-20220724145529969\"></p>\n<h1 id=\"大一\"><a href=\"#大一\" class=\"headerlink\" title=\"大一\"></a>大一</h1><p>曾经想退学，就差去教务处申请了。印象中隐约记得我是去了的，并且好像碰到了同样来申请退学的人，但是我最终仍然放弃了退学。但是这些隐约的印象已经过于模糊了，我甚至无法明确这些印象是不是真实发生过的。</p>\n<p>开始刷A岛。</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724150100156.png\" alt=\"image-20220724150100156\"></p>\n<p>期末去复习</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724150321457.png\" alt=\"image-20220724150321457\"></p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724150359770.png\" alt=\"image-20220724150359770\"></p>\n<p>20190330好像是去西电打他们ACM校赛</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724151233274.png\" alt=\"image-20220724151233274\"></p>\n<p>那个时候喜欢去明远3区学</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724151415333.png\" alt=\"image-20220724151415333\"></p>\n<h1 id=\"大二\"><a href=\"#大二\" class=\"headerlink\" title=\"大二\"></a>大二</h1><p>嗯蹭的铜奖</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724151637515.png\" alt=\"image-20220724151637515\"></p>\n<p>大一嗯卷收的奖学金</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724151805136.png\" alt=\"image-20220724151805136\"></p>\n<p>下半学期就疫情了，在家嗯躺</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724152056907.png\" alt=\"image-20220724152056907\"></p>\n<p>貌似那个时候接触到了cltv？</p>\n<p><img src=\"https://md-pic-bed.oss-cn-hongkong.aliyuncs.com/img/image-20220724152147027.png\" alt=\"image-20220724152147027\"></p>\n<h1 id=\"大三\"><a href=\"#大三\" class=\"headerlink\" title=\"大三\"></a>大三</h1><p>大三开始心态就开始不行了。为了卷保研附加分，寒假参加的美赛，无果而终。</p>\n<blockquote>\n<p>今天是2022年4月9日。想写一下我从去年开始到今天的总结。</p>\n<p>去年1、2月份的时候石家庄疫情我无法回家，在长安大学校本部暂住了一段时间，那个时间段时我由于考砸了计算机网络和计算机组成，整个人处于一种非常恐慌的状态，我担心我会拿不到保研名额。那时我和pxc住一间寝室，他当时在找工作，生活非常规律，每天早起开始干活写项目，工作一整天，晚上和女朋友打个电话之后睡觉。我那时整个人处于一种非常矛盾的状态，一方面和yn、jxh组了美赛队企图拿个奖以便后边评保研资格能加分，另一方面又逃避现实每天看张顺飞、杨月等人的直播。</p>\n<p>我们美赛队啥都没搞出来。</p>\n<p>开学后疯狂卷编译原理、AI等课程。这时身边大部分人已经开始准备考研了。</p>\n<p>之后是实习，学校不知道从哪找来了个web开发的培训公司给我们培训。我那时找了个牛客大学的web求职项目，把那个配套视频完整看了一遍。这个时间点大部分考研人在实习时已经啥也不做了只学考研内容了。我印象最深的是tzr在看某个积分教学视频、ywf在机房桌子上摆了几本厚厚的法学书。</p>\n<p>之后是暑假，我这时还在想着比赛加分，看了看微信小程序开发的比赛和中科院的某个高性能比赛，最后也不了了之了，中间还去了一趟医院。</p>\n<p>我们上一届的进行毕业答辩的时候，我和以前的队友dyp有过一次短暂的交流，关于如果我被限制保本校怎么办的话题。</p>\n<p>暑期期间我参加了许多学校的夏令营，有的被老师喷的惨不忍睹，不过这段历程某种意义上确实使得我脸皮变厚了。</p>\n<p>9月份开学。</p>\n</blockquote>\n<h1 id=\"大四\"><a href=\"#大四\" class=\"headerlink\" title=\"大四\"></a>大四</h1><p>开学就是大四，我们这一届修改了保研规则且是在大四开学后才公布的文件，我记得大概是9月12号左右。鬼使神差地放弃了保内，考研去了，整个过程不可谓不痛苦。</p>\n<p>但是结果是好的，考上了，尽管如此，我目前认为我的这一次成功具有运气成分。</p>\n<p>复试通过了之后开始认真搞毕设，第一次接触到STM32和PYNQ，指导老师给的原始工程的完成度不高且没人指导我怎么用，做的过程中一度认为做不出来了要换题，不过后来还是成功搞出来了（感觉程序到处都不严谨，不过能跑就行，nobody cares）。这次经历也挺折磨的，但是可能确实训练了抗压能力。</p>\n<h1 id=\"开躺\"><a href=\"#开躺\" class=\"headerlink\" title=\"开躺\"></a>开躺</h1><p>搞完毕设就开躺了，大概是从5月份中旬开始的。由于我总感觉自己成功考上研究生有运气成分以及一些事情，导致我总有一种逃避未来的心态。后边就没干什么正经事情了，PRA的比赛没参加，折腾了一段时间的esxi和软路由、ipv6。</p>\n","tags":["生活"]}]